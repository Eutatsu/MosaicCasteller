"use strict";(self["webpackChunkmosaicasteller"]=self["webpackChunkmosaicasteller"]||[]).push([[985],{2489:function(e,l,t){var o=t(6518),a=t(9565),s=t(9306),r=t(8551),n=t(1767),c=t(9462),d=t(6319),i=t(6395),u=c((function(){var e,l,t,o=this.iterator,s=this.predicate,n=this.next;while(1){if(e=r(a(n,o)),l=this.done=!!e.done,l)return;if(t=e.value,d(o,s,[t,this.counter++],!0))return t}}));o({target:"Iterator",proto:!0,real:!0,forced:i},{filter:function(e){return r(this),s(e),new u(n(this),{predicate:e})}})},3741:function(e,l,t){t.r(l),t.d(l,{default:function(){return z}});var o=t(641),a=t(3751),s=t(33);const r={class:"mx-auto max-w-screen-lg flex flex-col justify-center h-full min-h-[80vh] px-2 md:px-0 items-center"},n={class:"w-full justify-self-start mt-10"},c=["src"],d={class:"flex flex-col justify-center h-full w-full md:max-w-screen-sm"},i={key:1,class:"justify-center flex flex-col"},u={key:2,class:"text-lg text-red-600 text-center"},f={class:"inline-flex m-2"},p={class:"grow group flex flex-col"},m={class:"relative h-0 w-full"},x=["onMousedown"],v={class:"flex flex-col md:flex-row md:items-center"},h={class:"font-normal text-sm mr-2 md:ml-2"};function g(e,l,t,g,b,k){const w=(0,o.g2)("FilaEnigma"),y=(0,o.g2)("IcoTipEst");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",n,[(0,o.Lk)("img",{src:g.TrobaCollaLogo,width:"100%",class:"mx-auto w-4/5 md:w-1/2",alt:"Trobacolla"},null,8,c),l[5]||(l[5]=(0,o.Lk)("div",{class:"text-center mt-8"},[(0,o.Lk)("p",null,[(0,o.eW)("L'enigma casteller inspirat en el clàssic modern "),(0,o.Lk)("a",{class:"text-red-600 hover:text-red-400 underline",href:"https://www.nytimes.com/games/wordle/index.html",target:"blank"},"Wordle!"),(0,o.eW)(" (o "),(0,o.Lk)("a",{class:"text-red-600 hover:text-red-400 underline",href:"https://jocs.ara.cat/trobamot",target:"blank"},"Trobamot"),(0,o.eW)(")")]),(0,o.Lk)("p",null,"Selecciona una colla de la llista per començar a endevinar!")],-1))]),(0,o.Lk)("div",d,[l[8]||(l[8]=(0,o.Fv)('<div class="flex justify-center gap-2 px-2 mb-1 text-center font-bold text-white"><div class="hidden md:flex flex-1 bg-red-600 rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Colla </div><div class="flex-1 text-sm md:text-base bg-red-600 rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Camisa </div><div class="flex-1 bg-red-600 text-sm md:text-base rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Fundació </div><div class="flex-1 bg-red-600 text-sm md:text-base rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Tipus </div><div class="flex-1 bg-red-600 text-sm md:text-base rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Estat </div><div class="flex-1 bg-red-600 text-sm md:text-base rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg"> Població </div></div>',1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.intents,((e,l)=>((0,o.uX)(),(0,o.Wv)(w,{key:l,colla:e,solucio:g.solucio},null,8,["colla","solucio"])))),128)),0==g.correcte()?((0,o.uX)(),(0,o.Wv)(w,{key:0})):(0,o.Q3)("",!0),1==g.correcte()?((0,o.uX)(),(0,o.CE)("div",i,l[6]||(l[6]=[(0,o.Lk)("div",{class:"text-lg text-red-600 text-center"},"Correcte!",-1)]))):(0,o.Q3)("",!0),1==g.error?((0,o.uX)(),(0,o.CE)("div",u,"Selecciona una colla vàlida")):(0,o.Q3)("",!0),(0,o.Lk)("div",f,[(0,o.Lk)("div",p,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>g.cerca=e),onChange:l[1]||(l[1]=e=>g.filtrarDades(g.cerca)),placeholder:"Filtra per colla, color, municipi, any, tipus o estat...",tabindex:"0",class:"w-full rounded-sm border-red-600 border-2 bg-white p-2",onFocus:l[2]||(l[2]=e=>g.obreLlista=!0),onBlur:l[3]||(l[3]=e=>g.obreLlista=!1)},null,544),[[a.Jo,g.cerca]]),(0,o.Lk)("div",m,[(0,o.Lk)("ul",{class:(0,s.C4)(["absolute w-full bg-white drop-shadow rounded-sm max-h-96 overflow-y-auto p-1 z-[999]",1==g.obreLlista?"inline":"hidden"])},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.filtrarDades(g.cerca),((e,t)=>((0,o.uX)(),(0,o.CE)("li",{class:(0,s.C4)(["inline-flex items-center p-2 hover:bg-red-600 font-bold text-black hover:text-white rounded-sm w-full text-left cursor-pointer",g.intents.includes(e)?"hidden":{}]),key:t,onMousedown:(0,a.D$)((l=>g.selecciona(e)),["prevent"])},[(0,o.Lk)("div",{style:(0,s.Tr)({backgroundColor:e.codi_color}),class:"aspect-square h-5 border-solid border border-1 mr-1"},null,4),(0,o.Lk)("div",v,[(0,o.Lk)("span",null,(0,s.v_)(e.nom),1),(0,o.Lk)("span",h,[(0,o.eW)((0,s.v_)(e.localitat)+" / "+(0,s.v_)(e.fundacio)+" / ",1),((0,o.uX)(),(0,o.Wv)(y,{tippy:!1,key:"estat"+e.id,colla:e,dada:"tipus",class:""},null,8,["colla"])),l[7]||(l[7]=(0,o.eW)(" / ")),((0,o.uX)(),(0,o.Wv)(y,{tippy:!1,key:"estat"+e.id,colla:e,dada:"estat",class:""},null,8,["colla"]))])])],42,x)))),128))],2)])]),(0,o.Lk)("button",{onClick:l[4]||(l[4]=e=>g.endevina(g.seleccio)),class:"bg-red-600 rounded-sm text-white px-3 mx-2 py-2 font-bold hover:bg-red-500"}," Endevina! ")])])])}t(4114),t(8111),t(2489);var b=t(953);const k={key:0,class:"w-full flex justify-center gap-2 py-1 px-2 transition-all"},w={key:0,class:"hidden md:flex flex-1 aspect-square rounded-sm flex text-center items-center justify-center drop-shadow hover:drop-shadow-lg bg-red-600"},y={class:"text-white font-bold text-sm"},C={class:"font-bold md:text-sm text-xs"},L={class:"text-black font-bold"},E={key:0,title:"fundacio posterior"},j={key:1,title:"fundacio anterior"},F={class:"text-black font-bold text-lg md:text-3xl"},_={class:"hidden md:block font-bold text-sm"},X={class:"text-black font-bold text-lg md:text-3xl"},T={class:"hidden md:block font-bold text-sm"},W={class:"text-black font-bold md:text-sm text-xs"};function q(e,l,t,r,n,c){const d=(0,o.g2)("IcoTipEst"),i=(0,o.g2)("TargetaInfo"),u=(0,o.g2)("tippy");return null==t.colla||null==t.solucio?((0,o.uX)(),(0,o.CE)("div",k,[l[0]||(l[0]=(0,o.Lk)("div",{class:"hidden md:flex flex-1 aspect-square rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg bg-red-600"},null,-1)),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(5,(e=>(0,o.Lk)("div",{key:e,class:"flex-1 aspect-square rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg bg-gray-200"}))),64))])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,s.C4)(["w-full flex justify-center gap-2 relative hover:bg-gray-100 w-fit mx-auto py-1 px-2 rounded-sm",t.colla.id==t.solucio.id?" border-red-600 border-solid border border-2":{}])},[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.bF)(a.eB,{name:"fade",appear:""},{default:(0,o.k6)((()=>[(0,o.Lk)("span",y,(0,s.v_)(t.colla.nom),1)])),_:1})])):(0,o.Q3)("",!0),(0,o.bF)(a.eB,{name:"flip1",appear:""},{default:(0,o.k6)((()=>[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["overflow-hidden flex-1 aspect-square rounded-sm flex flex-col items-center justify-center text-center drop-shadow hover:drop-shadow-lg",r.aproximaColor()])},[(0,o.Lk)("div",{style:(0,s.Tr)({backgroundColor:t.colla.codi_color}),class:"aspect-square max-h-12 grow border-solid border-white border border-2 drop-shadow hover:drop-shadow-lg"},null,4),(0,o.Lk)("span",C,(0,s.v_)(t.colla.color_camisa),1)],2)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(a.eB,{name:"flip2",appear:""},{default:(0,o.k6)((()=>[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["flex-1 aspect-square rounded-sm flex items-center justify-center drop-shadow hover:drop-shadow-lg",r.aproximaAnys()])},[(0,o.Lk)("span",L,[(0,o.eW)((0,s.v_)(t.colla.fundacio)+" ",1),t.colla.fundacio<t.solucio.fundacio?((0,o.uX)(),(0,o.CE)("span",E,"▲ ")):t.colla.fundacio>t.solucio.fundacio?((0,o.uX)(),(0,o.CE)("span",j,"▼")):(0,o.Q3)("",!0)])],2)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(a.eB,{name:"flip3",appear:""},{default:(0,o.k6)((()=>[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["flex-1 aspect-square rounded-sm flex flex-col items-center justify-center drop-shadow hover:drop-shadow-lg",t.colla.tipus==t.solucio.tipus?"bg-green-300":"bg-gray-200"])},[(0,o.Lk)("span",F,[(0,o.bF)(d,{colla:t.colla,dada:"tipus"},null,8,["colla"])]),(0,o.Lk)("span",_,(0,s.v_)(r.formatDada(t.colla.tipus)),1)],2)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(a.eB,{name:"flip4",appear:""},{default:(0,o.k6)((()=>[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["flex-1 aspect-square rounded-sm flex flex-col items-center justify-center drop-shadow hover:drop-shadow-lg",t.colla.estat==t.solucio.estat?"bg-green-300":"bg-gray-200"])},[(0,o.Lk)("span",X,[(0,o.bF)(d,{colla:t.colla,dada:"estat"},null,8,["colla"])]),(0,o.Lk)("span",T,(0,s.v_)(r.formatDada(t.colla.estat)),1)],2)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(a.eB,{name:"flip5",appear:""},{default:(0,o.k6)((()=>[null!==t.colla||null!==t.solucio?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,s.C4)(["overflow-hidden flex-1 aspect-square rounded-sm flex items-center justify-center bg-gray-200 text-center drop-shadow hover:drop-shadow-lg",t.colla.localitat==t.solucio.localitat?"bg-green-300":"bg-gray-200"])},[(0,o.Lk)("span",W,(0,s.v_)(t.colla.localitat),1)],2)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(u,{to:"parent","content-tag":"div","content-class":"w-fit",placement:"bottom"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{colla:t.colla,class:""},null,8,["colla"])])),_:1})],2))}var D=t(1673),I=t(9866),Q={name:"FilaEnigma",props:{colla:{type:Object,required:!1,default:null},solucio:{type:Object,required:!1,default:null}},components:{IcoTipEst:D.A,TargetaInfo:I.A},setup(e){function l(){let l=e.colla.fundacio-e.solucio.fundacio;return 0===l?"bg-green-300":Math.abs(l)<=10?"bg-amber-300":(Math.abs(l),"bg-gray-200")}function t(){let l=e.colla.color_hsl[0]-e.solucio.color_hsl[0];return Math.abs(l)>180&&(l-=360),Math.abs(l)<=15?"bg-green-300":Math.abs(l)<=90?"bg-amber-300":(Math.abs(l),"bg-gray-200")}function o(e){const l={convencional:"Convencional",universitaria:"Universitària",internacional:"Internacional",activa:"Activa",formacio:"En formació",desapareguda:"Desapareguda"};return l[e]||"Desconegut"}return{aproximaAnys:l,aproximaColor:t,formatDada:o}}},M=t(6262);const A=(0,M.A)(Q,[["render",q]]);var K=A,B=t.p+"img/TrobaColla-logo.5382f355.svg",R={components:{FilaEnigma:K,IcoTipEst:D.A},setup(){const e=(0,o.WQ)("dades"),l=(0,o.EW)((()=>{const l=new Date,t=l.getFullYear()*l.getMonth()*1e3+100*l.getDate()+l.getMonth(),o=t%e.length;return e[o]}));let t=(0,b.KR)(""),a=(0,b.KR)(""),s=(0,b.KR)(!1),r=(0,b.KR)([]),n=(0,b.KR)(!1);function c(e){a.value=e.nom,t.value=e}function d(e){0==i()&&(""!==t.value?(r.value.push(e),a.value="",t.value="",n.value=!1):n.value=!0)}function i(){return 0!==r.value.length&&(r.value[r.value.length-1].id==l.value.id?(console.log(r.value[r.value.length-1].id),!0):(console.log(r.value[r.value.length-1].id),!1))}function u(e){return String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function f(l){let t=e.filter((e=>u(e.nom||"").includes(u(l))||u(e.color_camisa||"").includes(u(l))||u(e.localitat||"").includes(u(l))||u(e.fundacio||"").includes(u(l))||u(e.tipus||"").includes(u(l))||u(e.estat||"").includes(u(l))));return t}return e.sort(((e,l)=>e.nom.localeCompare(l.nom))),{dades:e,solucio:l,cerca:a,selecciona:c,seleccio:t,filtrarDades:f,eliminarAccents:u,obreLlista:s,endevina:d,intents:r,error:n,TrobaCollaLogo:B,correcte:i}}};const S=(0,M.A)(R,[["render",g]]);var z=S}}]);
//# sourceMappingURL=985.bd53a17e.js.map